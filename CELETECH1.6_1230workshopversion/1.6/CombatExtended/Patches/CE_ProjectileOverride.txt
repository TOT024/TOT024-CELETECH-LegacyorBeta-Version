<?xml version="1.0" encoding="UTF-8"?>
<Patch>
	<Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="CMC_Missile_HeavyATGM"]/thingClass</xpath>
		<value><thingClass>CeleTechXCE_DLL.ProjectileGuidedBulletCE</thingClass></value>
    </Operation>
    <Operation Class="PatchOperationReplace">
        <xpath>Defs/ThingDef[defName="CMC_Missile_HeavyATGM"]/projectile</xpath>
		<value>
			<projectile Class="CombatExtended.ProjectilePropertiesCE">
				<damageDef>Bomb</damageDef>
				<speed>50</speed>
				<explosionEffect>CMC_Bomb</explosionEffect>
				<screenShakeFactor>3</screenShakeFactor>
				<damageAmountBase>1200</damageAmountBase>
				<flyOverhead>true</flyOverhead>
				<stoppingPower>4</stoppingPower>
				<armorPenetrationSharp>2000</armorPenetrationSharp>
				<armorPenetrationBlunt>5000</armorPenetrationBlunt>
				<applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
				<damageFalloff>false</damageFalloff>
				<soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
				<soundImpactAnticipate>MortarRound_PreImpact</soundImpactAnticipate>
				<soundAmbient>MortarRound_Ambient</soundAmbient>
				<shadowSize>0</shadowSize>
				<preExplosionSpawnSingleThingDef>CraterSmall</preExplosionSpawnSingleThingDef>
			</projectile>
		</value>
    </Operation>
	<Operation Class="PatchOperationAdd">
        <xpath>Defs/ThingDef[defName="CMC_Missile_HeavyATGM"]/comps</xpath>
		<value>
			<li Class="CombatExtended.CompProperties_ExplosiveCE">
				<damageAmountBase>1190</damageAmountBase>
				<explosiveDamageType>Bomb</explosiveDamageType>
				<explosiveRadius>2.5</explosiveRadius>
				<explosionSound>MortarBomb_Explode</explosionSound>
				<applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
			</li>
			<li Class="CombatExtended.CompProperties_Fragments">
				<fragments>
					<Fragment_Large>40</Fragment_Large>
					<Fragment_Small>60</Fragment_Small>
				</fragments>
			</li>
			<li Class="CombatExtended.CompProperties_ProjectileFleck">
				<FleckDatas>
					<li>
						<fleck>Fleck_CERocketFlame</fleck>
						<emissionsPerTick>7</emissionsPerTick>
						<flecksPerEmission>3</flecksPerEmission>
						<scale>1</scale>
						<cutoffTickRange>25~30</cutoffTickRange>
					</li>
					<li>
						<fleck>Fleck_CERocketSmokeTrail</fleck>
						<emissionsPerTick>2</emissionsPerTick>
						<flecksPerEmission>1</flecksPerEmission>
					</li>
					<li>
						<fleck>Fleck_CERocketSmoke</fleck>
						<emissionsPerTick>2</emissionsPerTick>
						<flecksPerEmission>2</flecksPerEmission>
						<cutoffTickRange>25~60</cutoffTickRange>
					</li>
				</FleckDatas>
			</li>
		</value>
    </Operation>
</Patch>
