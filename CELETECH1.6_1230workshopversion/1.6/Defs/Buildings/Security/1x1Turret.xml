<Defs>
    <ThingDef ParentName="BuildingBase">
        <defName>CMC_CSGTurret</defName>
        <label>QS weapon station-CAP</label>
        <thingClass>TOT_DLL_test.Building_CMCTurretGun</thingClass>
        <drawerType>MapMeshAndRealTime</drawerType>
        <minifiedDef>MinifiedThing</minifiedDef>
        <altitudeLayer>Building</altitudeLayer>
        <description>A close-quarters anti-personnel combat mode of the QS weapon station, it fires intelligent shrapnel rounds that can track enemies and simultaneously engage multiple targets.</description>
        <uiIconPath>Things/Buildings/CMC_CSGTurret_UI</uiIconPath>
        <graphicData>
            <texPath>Things/Buildings/Base_Small</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(3,3)</drawSize>
        </graphicData>
        <size>(1,1)</size>
        <statBases>
            <Mass>29.5</Mass>
            <MaxHitPoints>600</MaxHitPoints>
            <Flammability>0</Flammability>
            <ShootingAccuracyTurret>0.85</ShootingAccuracyTurret>
        </statBases>
        <thingCategories>
            <li>BuildingsSecurity</li>
        </thingCategories>
        <killedLeavings>
            <ChunkSlagSteel>1</ChunkSlagSteel>
        </killedLeavings>
        <costList>
            <Steel>120</Steel>
            <Plasteel>50</Plasteel>
            <ComponentIndustrial>4</ComponentIndustrial>
            <ComponentSpacer>1</ComponentSpacer>
        </costList>
        <comps>
            <li Class="CompProperties_Explosive">
                <wickTicks>0</wickTicks>
                <explosiveRadius>5</explosiveRadius>
                <explodeOnKilled>true</explodeOnKilled>
                <explosiveDamageType>Extinguish</explosiveDamageType>
                <chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage>
            </li>
            <li Class="CompProperties_Forbiddable"/>
            <li Class="CompProperties_Power">
                <compClass>CompPowerTrader</compClass>
                <basePowerConsumption>550</basePowerConsumption>
            </li>
            <li Class="CompProperties_Flickable"/>
            <li Class="CompProperties_Breakdownable"/>
            <li Class="CompProperties_Refuelable">
                <fuelLabel>Shots until barrel change</fuelLabel>
                <fuelGizmoLabel>Barrel durability</fuelGizmoLabel>
                <outOfFuelMessage>Needs new barrel</outOfFuelMessage>
                <fuelFilter>
                    <thingDefs>
                        <li>Steel</li>
                    </thingDefs>
                </fuelFilter>
                <fuelCapacity>360</fuelCapacity>
                <!-- 30 bursts -->
                <fuelMultiplier>0.75</fuelMultiplier>
                <!-- 1.333 steel per burst, 80 per full rearm -->
                <initialFuelPercent>1</initialFuelPercent>
                <autoRefuelPercent>0.5</autoRefuelPercent>
                <showFuelGizmo>true</showFuelGizmo>
                <minimumFueledThreshold>1</minimumFueledThreshold>
                <factorByDifficulty>true</factorByDifficulty>
                <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
                <fuelIconPath>UI/Overlays/Barrel</fuelIconPath>
            </li>
        </comps>
        <tickerType>Normal</tickerType>
        <damageMultipliers>
            <li>
                <damageDef>Bomb</damageDef>
                <multiplier>1.3</multiplier>
            </li>
            <li>
                <damageDef>Flame</damageDef>
                <multiplier>0.5</multiplier>
            </li>
            <li>
                <damageDef>EMP</damageDef>
                <multiplier>2</multiplier>
            </li>
            <li>
                <damageDef>Stun</damageDef>
                <multiplier>2</multiplier>
            </li>
        </damageMultipliers>
        <building>
            <turretGunDef>Gun_CMCAntiInfantryCSG</turretGunDef>
            <turretBurstCooldownTime>1</turretBurstCooldownTime>
            <turretTopDrawSize>3</turretTopDrawSize>
        </building>
        <placeWorkers Inherit="False">
            <li>PlaceWorker_TurretTop</li>
            <li>PlaceWorker_BandNode</li>
        </placeWorkers>
        <researchPrerequisites>
            <li>CMCGunTurretsbasic</li>
        </researchPrerequisites>
        <designationCategory>CMC_DefensenProduction</designationCategory>
        <modExtensions>
            <li Class="TOT_DLL_test.TurretExtension_CMC">
                <rotationSpeed>1.45</rotationSpeed>
            </li>
        </modExtensions>
    </ThingDef>
    <ThingDef ParentName="BaseWeaponTurret">
        <defName>Gun_CMCAntiInfantryCSG</defName>
        <label>CAPWS</label>
        <description>A self-loading charged shotgun attached to a small weapon station.</description>
        <graphicData>
            <texPath>Things/Buildings/CMC_ShotGunTuirret</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <statBases>
            <AccuracyTouch>0.85</AccuracyTouch>
            <AccuracyShort>0.85</AccuracyShort>
            <AccuracyMedium>0.85</AccuracyMedium>
            <AccuracyLong>0.85</AccuracyLong>
            <RangedWeapon_Cooldown>1.5</RangedWeapon_Cooldown>
            <DeteriorationRate>0</DeteriorationRate>
            <Mass>20</Mass>
            <Flammability>0</Flammability>
        </statBases>
        <weaponTags Inherit = "False">
            <li>Weapon_CMCf</li>
        </weaponTags>
        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <defaultProjectile>Bullet_ChargedShotGun_CMC_Smart</defaultProjectile>
                <range>18.9</range>
                <burstShotCount>3</burstShotCount>
                <ticksBetweenBurstShots>15</ticksBetweenBurstShots>
                <soundCast>Shot_Shotgun</soundCast>
                <soundCastTail>GunTail_Heavy</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
            </li>
        </verbs>
    </ThingDef>
    <ThingDef ParentName="BuildingBase">
        <defName>CMC_CSGTurret_B</defName>
        <label>QS weapon station-LRSS</label>
        <thingClass>TOT_DLL_test.Building_CMCTurretGun</thingClass>
        <drawerType>MapMeshAndRealTime</drawerType>
        <minifiedDef>MinifiedThing</minifiedDef>
        <altitudeLayer>Building</altitudeLayer>
        <description>A small auto shotgun turret that fires guided bullets, commonly used in base defense.\n\n4 guided bullets are fired simultaneously, attacking multiple close targets.</description>
        <uiIconPath>Things/Buildings/CMC_CSGTurret_UI_B</uiIconPath>
        <graphicData>
            <texPath>Things/Buildings/Base_Small</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(3,3)</drawSize>
        </graphicData>
        <size>(1,1)</size>
        <statBases>
            <Mass>29.5</Mass>
            <MaxHitPoints>600</MaxHitPoints>
            <Flammability>0</Flammability>
            <ShootingAccuracyTurret>0.85</ShootingAccuracyTurret>
        </statBases>
        <thingCategories>
            <li>BuildingsSecurity</li>
        </thingCategories>
        <killedLeavings>
            <ChunkSlagSteel>1</ChunkSlagSteel>
        </killedLeavings>
        <costList>
            <Steel>120</Steel>
            <Plasteel>50</Plasteel>
            <ComponentIndustrial>4</ComponentIndustrial>
            <ComponentSpacer>1</ComponentSpacer>
        </costList>
        <comps>
            <li Class="CompProperties_Forbiddable"/>
            <li Class="CompProperties_Explosive">
                <wickTicks>0</wickTicks>
                <explosiveRadius>5</explosiveRadius>
                <explodeOnKilled>true</explodeOnKilled>
                <explosiveDamageType>Extinguish</explosiveDamageType>
                <chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage>
            </li>
            <li Class="CompProperties_Power">
                <compClass>CompPowerTrader</compClass>
                <basePowerConsumption>550</basePowerConsumption>
            </li>
            <li Class="CompProperties_Flickable"/>
            <li Class="CompProperties_Breakdownable"/>
            <li Class="CompProperties_Refuelable">
                <fuelLabel>Shots until barrel change</fuelLabel>
                <fuelGizmoLabel>Barrel durability</fuelGizmoLabel>
                <outOfFuelMessage>Needs new barrel</outOfFuelMessage>
                <fuelFilter>
                    <thingDefs>
                        <li>Steel</li>
                    </thingDefs>
                </fuelFilter>
                <fuelCapacity>40</fuelCapacity>
                <!-- 30 bursts -->
                <fuelMultiplier>0.75</fuelMultiplier>
                <!-- 1.333 steel per burst, 80 per full rearm -->
                <initialFuelPercent>1</initialFuelPercent>
                <autoRefuelPercent>0.5</autoRefuelPercent>
                <showFuelGizmo>true</showFuelGizmo>
                <minimumFueledThreshold>1</minimumFueledThreshold>
                <factorByDifficulty>true</factorByDifficulty>
                <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
                <fuelIconPath>UI/Overlays/Barrel</fuelIconPath>
            </li>
        </comps>
        <tickerType>Normal</tickerType>
        <damageMultipliers>
            <li>
                <damageDef>Bomb</damageDef>
                <multiplier>1.3</multiplier>
            </li>
            <li>
                <damageDef>Bullet</damageDef>
                <multiplier>0.5</multiplier>
            </li>
            <li>
                <damageDef>EMP</damageDef>
                <multiplier>0</multiplier>
            </li>
            <li>
                <damageDef>Stun</damageDef>
                <multiplier>0</multiplier>
            </li>
        </damageMultipliers>
        <building>
            <turretGunDef>Gun_CMCAntiInfantryCSG_B</turretGunDef>
            <turretBurstCooldownTime>4</turretBurstCooldownTime>
            <turretTopDrawSize>3</turretTopDrawSize>
        </building>
        <placeWorkers Inherit="False">
            <li>PlaceWorker_TurretTop</li>
            <!--li>TOT_DLL_test.PlaceWorker_ShowTurretRadius_VerbSupport</li-->
            <li>PlaceWorker_BandNode</li>
        </placeWorkers>
        <researchPrerequisites>
            <li>CMCGunTurretsbasic</li>
        </researchPrerequisites>
        <designationCategory>CMC_DefensenProduction</designationCategory>
        <modExtensions>
            <li Class="TOT_DLL_test.TurretExtension_CMC">
                <rotationSpeed>0.45</rotationSpeed>
            </li>
        </modExtensions>
    </ThingDef>
    <ThingDef ParentName="BaseWeaponTurret">
        <defName>Gun_CMCAntiInfantryCSG_B</defName>
        <label>auto gun</label>
        <description>A self-loading charged shotgun attached to a small auto weapon station.\n\nIt shots 2 guided slugs each time, attacking multiple targets.</description>
        <graphicData>
            <texPath>Things/Buildings/CMC_ShotGunTuirret_B</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <statBases>
            <AccuracyTouch>0.85</AccuracyTouch>
            <AccuracyShort>0.85</AccuracyShort>
            <AccuracyMedium>0.85</AccuracyMedium>
            <AccuracyLong>0.85</AccuracyLong>
            <RangedWeapon_Cooldown>3.5</RangedWeapon_Cooldown>
            <DeteriorationRate>0</DeteriorationRate>
            <Mass>20</Mass>
            <Flammability>0</Flammability>
        </statBases>
        <weaponTags Inherit = "False">
            <li>Weapon_CMCf</li>
        </weaponTags>
        <verbs>
            <li Class="TOT_DLL_test.VerbProp_SMT">
                <verbClass>TOT_DLL_test.Verb_ShootMultiTarget</verbClass>
                <hasStandardCommand>true</hasStandardCommand>
                <defaultProjectile>Bullet_ChargedShotGun_CMC_Smart_B</defaultProjectile>
                <warmupTime>1.8</warmupTime>
                <range>54.9</range>
                <minRange>3.9</minRange>
                <burstShotCount>1</burstShotCount>
                <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
                <soundCast>CMC_TurretSniperFire</soundCast>
                <soundCastTail>GunTail_Heavy</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
                <PPShootNum>2</PPShootNum>
                <PPTargetAR>2.9</PPTargetAR>
            </li>
        </verbs>
    </ThingDef>
    <ThingDef ParentName="BuildingBase">
        <defName>CMC_CSGTurret_C</defName>
        <label>QS weapon station-LMG</label>
        <thingClass>TOT_DLL_test.Building_CMCTurretGun</thingClass>
        <drawerType>MapMeshAndRealTime</drawerType>
        <minifiedDef>MinifiedThing</minifiedDef>
        <altitudeLayer>Building</altitudeLayer>
        <description>The general-purpose mode of the Qingshuang weapon station base, it fires small-caliber machine gun rounds.</description>
        <uiIconPath>Things/Buildings/CMC_CSGTurret_UI_B</uiIconPath>
        <graphicData>
            <texPath>Things/Buildings/Base_Small</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>(3,3)</drawSize>
        </graphicData>
        <size>(1,1)</size>
        <statBases>
            <Mass>29.5</Mass>
            <MaxHitPoints>600</MaxHitPoints>
            <Flammability>0</Flammability>
            <ShootingAccuracyTurret>0.97</ShootingAccuracyTurret>
        </statBases>
        <thingCategories>
            <li>BuildingsSecurity</li>
        </thingCategories>
        <killedLeavings>
            <ChunkSlagSteel>1</ChunkSlagSteel>
        </killedLeavings>
        <costList>
            <Steel>120</Steel>
            <Plasteel>50</Plasteel>
            <ComponentIndustrial>4</ComponentIndustrial>
            <ComponentSpacer>1</ComponentSpacer>
        </costList>
        <comps>
            <li Class="CompProperties_Forbiddable"/>
            <li Class="CompProperties_Explosive">
                <wickTicks>0</wickTicks>
                <explosiveRadius>5</explosiveRadius>
                <explodeOnKilled>true</explodeOnKilled>
                <explosiveDamageType>Extinguish</explosiveDamageType>
                <chanceNeverExplodeFromDamage>1</chanceNeverExplodeFromDamage>
            </li>
            <li Class="CompProperties_Power">
                <compClass>CompPowerTrader</compClass>
                <basePowerConsumption>550</basePowerConsumption>
            </li>
            <li Class="CompProperties_Flickable"/>
            <li Class="CompProperties_Breakdownable"/>
            <li Class="CompProperties_Refuelable">
                <fuelLabel>Shots until barrel change</fuelLabel>
                <fuelGizmoLabel>Barrel durability</fuelGizmoLabel>
                <outOfFuelMessage>Needs new barrel</outOfFuelMessage>
                <fuelFilter>
                    <thingDefs>
                        <li>Steel</li>
                    </thingDefs>
                </fuelFilter>
                <fuelCapacity>180</fuelCapacity>
                <!-- 30 bursts -->
                <fuelMultiplier>0.75</fuelMultiplier>
                <!-- 1.333 steel per burst, 80 per full rearm -->
                <initialFuelPercent>1</initialFuelPercent>
                <autoRefuelPercent>0.5</autoRefuelPercent>
                <showFuelGizmo>true</showFuelGizmo>
                <minimumFueledThreshold>1</minimumFueledThreshold>
                <factorByDifficulty>true</factorByDifficulty>
                <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
                <fuelIconPath>UI/Overlays/Barrel</fuelIconPath>
            </li>
        </comps>
        <tickerType>Normal</tickerType>
        <damageMultipliers>
            <li>
                <damageDef>Bomb</damageDef>
                <multiplier>1.3</multiplier>
            </li>
            <li>
                <damageDef>Bullet</damageDef>
                <multiplier>0.5</multiplier>
            </li>
            <li>
                <damageDef>EMP</damageDef>
                <multiplier>0</multiplier>
            </li>
            <li>
                <damageDef>Stun</damageDef>
                <multiplier>0</multiplier>
            </li>
        </damageMultipliers>
        <building>
            <turretGunDef>Gun_CMCAntiInfantryCSG_C</turretGunDef>
            <turretBurstCooldownTime>4</turretBurstCooldownTime>
            <turretTopDrawSize>3</turretTopDrawSize>
        </building>
        <placeWorkers>
            <li>PlaceWorker_TurretTop</li>
            <li>PlaceWorker_BandNode</li>
        </placeWorkers>
        <researchPrerequisites>
            <li>CMCGunTurretsbasic</li>
        </researchPrerequisites>
        <designationCategory>CMC_DefensenProduction</designationCategory>
        <modExtensions>
            <li Class="TOT_DLL_test.TurretExtension_CMC">
                <rotationSpeed>1.05</rotationSpeed>
            </li>
        </modExtensions>
    </ThingDef>
    <ThingDef ParentName="BaseWeaponTurret">
        <defName>Gun_CMCAntiInfantryCSG_C</defName>
        <label>LMG</label>
        <description>An auto charged LMG.</description>
        <graphicData>
            <texPath>Things/Buildings/CMC_ShotGunTuirret_C</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <statBases>
            <AccuracyTouch>0.85</AccuracyTouch>
            <AccuracyShort>0.85</AccuracyShort>
            <AccuracyMedium>0.85</AccuracyMedium>
            <AccuracyLong>0.85</AccuracyLong>
            <RangedWeapon_Cooldown>3.5</RangedWeapon_Cooldown>
            <DeteriorationRate>0</DeteriorationRate>
            <Mass>20</Mass>
            <Flammability>0</Flammability>
        </statBases>
        <weaponTags Inherit = "False">
            <li>Weapon_CMCf</li>
        </weaponTags>
        <verbs>
            <li>
                <verbClass>Verb_Shoot</verbClass>
                <hasStandardCommand>true</hasStandardCommand>
                <defaultProjectile>Bullet_QBZfivenine_Turret</defaultProjectile>
                <warmupTime>0.89</warmupTime>
                <range>32</range>
                <burstShotCount>12</burstShotCount>
                <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
                <soundCast>CMC_LMG_TurretFire</soundCast>
                <soundCastTail>GunTail_Medium</soundCastTail>
                <muzzleFlashScale>9</muzzleFlashScale>
                <consumeFuelPerShot>1</consumeFuelPerShot>
            </li>
        </verbs>
    </ThingDef>
</Defs>